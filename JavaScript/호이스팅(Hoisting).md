# 호이스팅
JavaScript는 다른언어와 비교했을 때 변수 scope와 관련하여 특별한 성질이 있다.   
C, Java 변수를 사용하거나, 어떤 함수를 호출하기 위해서는 사용하기 전에 미리 변수, 함수가 선언되어 있어야 한다.
JavaScript 변수, 함수를 나중에 정의하더라도 즉시 사용할 수 있다는 특징이 있습니다.
JavaScript의 이러한 특징을 호이스팅이라고 한다.

## 1. 변수 호이스팅
변수 호이스팅이란 변수의 정의가 그 범위에 따라 선언과 할당으로 분리되는 것을 의미한다.
변수가 함수 내부에 작성이 되었다면, 함수 내부의 최상위에서 선언된 것과 같으며,
변수가 함수 외부에 작성이 되었다면, 전역 컨텍스트의 최상위에서 선언된 것과 같다.
중요한 것은 함수 내부/외부 어떤 경우라도, 변수가 선언만 된 것이고 할당된 것이 아니라는 점이다.
```JavaScript
let foo = function(){
    console.log(goo);    // undefined
    var goo = "hello";
    console.log(goo);    // hello
};

foo();
```
C, Java 같은 경우에는 goo 변수를 선언하기 전에, console.log(goo) 처럼 goo 변수를 사용하려 했으므로 오류가 발생해야 한다.
그러나 JS는 goo 변수가 나중에 선언되었지만 먼저 선언된 것으로 간주하고 undefined를 출력한다.
이것을 호이스팅이라 하는데, 위의 함수는 JS 내부적으로 다음과 같이 바뀐다.
```JavaScript
let foo = function(){
    var goo;
    console.log(goo);    // undefined
    goo = "hello";
    console.log(goo);    // hello
};
```

## 2. 함수 호이스팅
함수 호이스팅이란 함수 선언문 형태로 정의된 함수의 유효 범위는
스크립트의 맨 처음에 선언된 것으로 간주한다는 의미이다.
```JavaScript
console.log(add(3,5));  // 8

function add(a,b){
    return a + b;
}
```
아직 add() 함수를 정의하지 않았는데 add() 함수를 호출해서 정상적으로 실행이 되었다.
이것을 함수 호이스팅이라고 한다.
그런데 이런식으로 함수 선언문으로 함수를 정의하면 함수 호이스팅에 의해 코드의 구조가 꼬일 수 있으므로,
함수 표현식을 이용해서 함수를 정의할 것을 권고하고 있다.
```JavaScript
console.log(add(3,5));  // error : add is not defined

let add = function(a,b){
    return a + b;
}
```
이처럼 함수 표현식으로 함수를 정의하면 함수 호이스팅이 일어나지 않는다.

정리 하자면,
* 호이스팅은 선언 부분이 최상단으로 끌어올려지는 동작 방식이다.   
* 변수 호이스팅은 변수의 선언과 할당이 분리된다는 개념이다.
* 함수 호이스팅은 함수 선언문 형태로 정의한 함수는 스크립트 맨 처음부터 실행된다는 개념이다.

