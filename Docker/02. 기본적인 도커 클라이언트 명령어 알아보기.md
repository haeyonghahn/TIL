# 컨테이너들 나열하기

## 현재 실행중인 컨테이너 나열
![도커ps](https://github.com/haeyonghahn/TIL/blob/master/Docker/images/dockerps.PNG)

1. CONTAINER ID : 컨테이너의 고유한 아이디 해쉬값.
2. IMAGE : 컨테이너 생성 시 사용한 도커 이미지.
3. COMMAND : 컨테이너 시작 시 실행될 명령어.
4. CREATED : 컨테이너가 생성된 시간.
5. STATUS : 컨테이너의 상태.
 - 실행 중은 Up, 종료는 Exited, 일시정지 Pause.
6. PORTS : 컨테이너가 개방한 포트와 호스트에 연결한 포트.
7. NAMES : 컨테이너 고유한 이름.
 - 컨테이너 생성 시 `--name`옵션으로 이름을 설정하지 않으면 도커 엔진이 임의로 형용사와 명사를 조합해 설정.
 - ID와 마찬가지로 중복이 안되고 `docker rename`명령어로 이름을 변경할 수 있다.
 - `docker rename original-name changed-name`

## 원하는 항목만 보기
```docker
docker ps --format 'table{{.Names}} \t table{{.Image}}`
```

## 모든 컨테이너 나열
```docker
docker ps -a
```

## 도커 컨테이너의 생명주기
![도커생명주기](https://github.com/haeyonghahn/TIL/blob/master/Docker/images/%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0.PNG)
```docker
docker create <이미지 이름>
```

![dockercreate](https://github.com/haeyonghahn/TIL/blob/master/Docker/images/dockercreate.PNG)
```docker
docker start <이미지 이름>
```

![dockerstart](https://github.com/haeyonghahn/TIL/blob/master/Docker/images/dockerrun.PNG)

### docker stop과 kill 의 차이점
`stop`과 `kill`은 둘 다 실행중인 컨테이너를 중지시킨다.
그러나 `stop`은 예를 들어, 메시지를 보내고 있었다면 보내고 있던 메시지를 완료하고 컨테이너를 중지시킨다.
`kill`은 어떠한 것도 기다리지 않고 바로 컨테이너를 중지시킨다.
```docker
docker stop <컨테이너 아이디/이름>
```
```docker
docker kill <컨테이너 아이디/이름>
```

## 컨테이너 삭제하기
### 중지된 컨테이너 삭제
```docker
docker rm <아이디/이름>
```
### 모든 컨테이너를 삭제
```docker
docker rm docker ps -a -q
```
### 이미지를 삭제
```docker
docker rmi <이미지id>
```
### 한 번에 사용하지 않는 컨테이너, 이미지, 네트워크를 모두 삭제
```docker
docker system prune
```
![dockerprune](https://github.com/haeyonghahn/TIL/blob/master/Docker/images/systemprue.PNG)
