# S3
## 목차
* **[S3(Simple Storage Service)](#s3simple-storage-service)**
* **[S3 암호화](#S3-암호화)**
* **[실습](#실습)**

## S3(Simple Storage Service)
- 안전하고 가변적인 Object 저장공간을 제공한다. (ex: Google Cloud)
- 편리한 UI 인터페이스를 통해 어디서나 쉽게 데이터를 저장하고 불러올 수 있다.
- 파일 크기는 0KB부터 5TB까지 지원한다.
- 저장공간 무제한
- Bucket이라는 이름을 사용한다. (디렉토리와 유사함)
- Bucket은 보편적인 namespace를 사용한다.

### S3 Object 구성요소
- Key
- Value
- Version ID
- Metadata
- CORS (Cross Origin Resource Sharing)

### S3 Data Consistency Model
1. Read after Write Consistency (PUT)
2. Eventual Consistency (UPDATE, DELETE)

### S3 스토리지
#### 일반 S3
- 가장 보편적으로 사용되는 스토리지 타입
- 높은 내구성, 가용성 (Durability, Availability)

#### S3 - IA (Infrequent Access)
- 자주 접근되지는 않으나 접근시 빠른 접근이 요구되는 파일이 많을시 유용
- 일반 S3에 비해 비용은 저렴하나 접근시 추가 비용 발생
- 멀티 AZ를 통한 데이터 저장

#### S3 - One Zone IA
- 단일 AZ를 통한 데이터 저장
- 단일 AZ에 의한 데이터 접근 제한 (조금 낮은 가용성)
- 데이터 접근시 S3 - IA보다 20% 비용 저렴

#### Glacier
- 거의 접근하지 않을 데이터 저장 시 유용
- 매우 저렴한 비용
- 데이터 접근시 대략 4-5시간 소요

#### Intelligent Tiering 
- 데이터 접근 주기가 불규칙할때 매우 유용
- 2가지 티어 존재
  - Frequent Tier
  - Infrequent Tier
- 데이터 접근주기에 따라 두가지 티어중 하나로 선택됨
- Frequent Tier가 비용이 약간 더 비쌈
- 최고의 비용 절감 효율을 누릴 수 있음

### S3 요금
- GB당
- PUT, GET, COPY 요청 횟수당
- 데이터 다운로드시 / 다른 리소스로 전송시
- Metadata (object tag)

## S3 암호화
- 파일 업로드/다운로드시
  - SSL / TLS
- 가만히 있을시
  1. SEE-S3
  2. SSE-KMS
  3. SSE-C

### S3 암호화 과정
PUT 요청이 생성됨   
![image](https://user-images.githubusercontent.com/31242766/215091121-553ff6cd-394e-40e1-b349-e55df7b5235c.png)   

__x-amz-server-side-encryption-paramerer__   
![image](https://user-images.githubusercontent.com/31242766/215091265-ac7a8d4a-e1e6-4838-9fe5-5e85bdba515f.png)

